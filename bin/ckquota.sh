#!/bin/sh -f

let id=1;

usr_name[id]="okada"
usr_adrs[id]="michihiro.okada@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="osada"
usr_adrs[id]="yoshihiro.osada@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="kani"
usr_adrs[id]="mamoru.kani@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="tamura"
usr_adrs[id]="tamura@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="kitamura"
usr_adrs[id]="tetsuro.kitamura@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="yoshioku"
usr_adrs[id]="shinobu.yoshioku@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="tsutsumi"
usr_adrs[id]="masafumi.tsutsumi@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="kuroda"
usr_adrs[id]="kouji.kuroda@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="yshibata"
usr_adrs[id]="yshibata@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sugihara"
usr_adrs[id]="hiroshi.sugihara@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="yamamoto"
usr_adrs[id]="y_yamamoto@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="shimada"
usr_adrs[id]="akira.shimada@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="chujo"
usr_adrs[id]="yohei.chujo@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="takemura"
usr_adrs[id]="takemura@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="nakao"
usr_adrs[id]="yukihiro.nakao@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="mnakao"
usr_adrs[id]="m-nakao@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="aoki"
usr_adrs[id]="takayuki.aoki@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="imai"
usr_adrs[id]="keita.imai@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="shinichi"
usr_adrs[id]="shinichi@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="yokota"
usr_adrs[id]="h_yokota@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="nishida"
usr_adrs[id]="a_nishida@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_sreehari"
usr_adrs[id]="mt_sreehari@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_katou"
usr_adrs[id]="fs_kato@kmextra.kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_watanabe"
usr_adrs[id]="ssj_watanabe@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_yokoyama"
usr_adrs[id]="ssj_yokoyama@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_yasuda"
usr_adrs[id]="ssj_yasuda@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_nishigaseko"
usr_adrs[id]="ssj_nishigaseko@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_iwaya"
usr_adrs[id]="ssj_iwaya@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_satou"
usr_adrs[id]="ssj_satou@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="k_hayasi"
usr_adrs[id]="a_nishida@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="nakamura"
usr_adrs[id]="masayoshi.nakamura@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="eda_tool"
usr_adrs[id]="a_nishida@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="suzuki"
usr_adrs[id]="a_nishida@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="tomi"
usr_adrs[id]="a_nishida@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="tokura"
usr_adrs[id]="yoshiko.tokura@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="kido"
usr_adrs[id]="kirihito.kido@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_anan"
usr_adrs[id]="a_nishida@kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_cho"
usr_adrs[id]="kenka.cho@kmextra.kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;
usr_name[id]="sup_chen"
usr_adrs[id]="xianqiang.chen@kmextra.kyoceramita.co.jp"
usr_limit[id]="7000";
let id=id+1;

echo "user number ${#usr_name[@]}";

for f in `seq ${#usr_name[@]}` ;
do
	eval usr_nam=${usr_name[$f]};
	echo "user name ${usr_nam}";
	eval echo "~${usr_nam}/";
	usr_usage=(`eval du -s ~${usr_nam}/`);
	let usr_usage=usr_usage/1000;
#	usr_usage=${usr_usage[0]};
	echo "Disk usage is ${usr_usage} MB.";
	eval usr_lmt=${usr_limit[$f]};
	echo "Disk quota is ${usr_lmt} MB.";
	eval usr_ad=${usr_adrs[$f]};
	echo "user adrs ${usr_ad}";

	if [ ${usr_usage} -gt ${usr_lmt} ]; then
		list=`eval find ~${usr_nam}/ -type d -maxdepth 3 -mindepth 3`;
		list=`du -s ${list} | sort -rn`;
		echo "Below is 3rd level directory list."
		echo "${list}"
		echo ""
		echo "Your account (${usr_nam}) is over quota.
Please delete some files in your home directory (~${usr_nam}).

Disk usage is ${usr_usage} MB.
Disk quota is ${usr_lmt} MB.

Please contact a_nishida@kyoceramita.co.jp,
if you have any question.

Below is 3rd level directory list.
${list}
" | \
#		/bin/mail -v -s "EDA disk usage report" ${usr_ad};
		/bin/mail -s "EDA disk usage report" ${usr_ad};
	else
		eval echo "user ${usr_name[$f]} is in limit.";
		echo "Disk usage is ${usr_usage} MB."
		echo "Disk quota is ${usr_lmt} MB."
	fi
	echo;
done

# END
